build:
  gpu: true
  cuda: "11.6.0"
  python_version: "3.8"
  python_packages:
    - pyannote.audio==2.1.1
    - torch==1.11.0
    - torchaudio==0.11.0
    - torchvision==0.12.0
  system_packages:
    - "ffmpeg"
    - "libsndfile1"
  run:
    - echo "Downloading config.yaml and pytorch_model.bin"
    - curl "https://github.com/cameronk/cog-pyannote/blob/diarize/speaker-diarization/model/2022-12-03/config.yaml?raw=true" --output config.yaml
    - curl "https://github.com/cameronk/cog-pyannote/blob/diarize/speaker-diarization/model/2022-12-03/pytorch_model.bin?raw=true" --output pytorch_model.bin
predict: "predict.py:Predictor"