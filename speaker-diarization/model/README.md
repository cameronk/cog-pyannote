See "Offline Use" here:

https://github.com/pyannote/pyannote-audio/blob/840562795e0ff62c510129fd2e61c4441c62aa10/tutorials/applying_a_pipeline.ipynb